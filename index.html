<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Loan Enquiry</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body.blur-active {
      filter: blur(4px);
      pointer-events: none;
    }
    #popupForm {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 9999;
      background: rgba(0, 0, 0, 0.6);
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .popup-content {
      background: #fff;
      padding: 25px;
      border-radius: 8px;
      max-width: 450px;
      width: 90%;
    }
  </style>
</head>
<body class="blur-active">

<div id="popupForm">
  <div class="popup-content">
    <h4 class="mb-3">Loan Enquiry</h4>
    <form id="loanForm" method="POST" action="send_whatsapp.php">
      <div class="mb-3">
        <label for="customerName" class="form-label">Name</label>
        <input type="text" class="form-control" name="customerName" required />
      </div>
      <div class="mb-3">
        <label for="customerMobile" class="form-label">Mobile</label>
        <input type="tel" class="form-control" name="customerMobile" pattern="[0-9]{10}" required />
      </div>
      <div class="mb-3">
        <label for="loanType" class="form-label">Loan Type</label>
        <select class="form-select" name="loanType" required>
          <option value="" disabled selected>Select Loan Type</option>
          <option value="Personal Loan">Personal Loan</option>
          <option value="Business Loan">Business Loan</option>
          <option value="Home Loan">Home Loan</option>
        </select>
      </div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="terms" required>
        <label class="form-check-label" for="terms">
          I agree to the <a href="terms.html" target="_blank">Terms</a> & <a href="privacy.html" target="_blank">Privacy Policy</a>.
        </label>
      </div>
      <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-primary">Submit</button>
        <button type="button" class="btn btn-secondary" onclick="closePopup()">Close</button>
      </div>
    </form>
  </div>
</div>

<div id="mainContent">
  <div class="container mt-5">
    <h2>Welcome to Our Loan Services</h2>
    <p>Explore a range of loan products tailored for you.</p>
  </div>
</div>

<script>
  document.getElementById("loanForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const form = e.target;
    const formData = new FormData(form);
    fetch(form.action, {
      method: "POST",
      body: formData,
    })
      .then((res) => res.text())
      .then((res) => {
        alert("Your request has been sent successfully!");
        document.getElementById("popupForm").style.display = "none";
        document.body.classList.remove("blur-active");
      })
      .catch((err) => {
        console.error("Error:", err);
        alert("Something went wrong!");
      });
  });

  function closePopup() {
    document.getElementById("popupForm").style.display = "none";
    document.body.classList.remove("blur-active");
  }
</script>
</body>
</html>
